(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},25:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(6),r=n.n(s),c=n(2),l=n(7),m=(n(25),n(11)),i=n.n(m),u=n(3),d=n(5),p=n(14),E="https://jsonplaceholder.typicode.com/",f=Object(d.c)(function(e,t){switch(t.type){case"SET_POSTS":return Object(u.a)({},e,{posts:t.posts});case"START_LOAADING":return Object(u.a)({},e,{loadingButton:"Loading..."});case"CHANGE_CONTENT":return Object(u.a)({},e,{visibleContent:!0});case"DELETE_POST":return Object(u.a)({},e,{posts:e.posts.filter(function(e){return e.id!==t.idPost})});case"DELETE_COMMENT":return Object(u.a)({},e,{posts:e.posts.map(function(e){return Object(u.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.idComment})})})});default:return e}},{posts:[],loadingButton:"Load list of posts",visibleContent:!1},Object(d.a)(p.a)),b=Object(c.b)(function(e){return{state:e.posts}},{deletePost:function(e){return{type:"DELETE_POST",idPost:e}}})(function(e){var t=e.name,n=e.email,a=e.city,s=e.idPost,r=e.deletePost;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"userInfo"}," Name: ",o.a.createElement("span",{className:"userInfo__name"},t),o.a.createElement("span",{className:"userInfo__email"}," Email: ",o.a.createElement("a",{href:" "},n)),o.a.createElement("span",{className:"userInfo__adress"}," Sity: ",o.a.createElement("a",{href:" "},a))),o.a.createElement("button",{type:"button",className:"button-delete",onClick:function(){return r(s)}},"Delete post"))}),_=function(e){var t=e.title,n=e.body,a=e.name,s=e.email,r=e.city,c=e.idPost;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"post__title"},t),o.a.createElement("p",{className:"post__body"},'"',n,'"'),o.a.createElement(b,{name:a,email:s,city:r,idPost:c}))},N=Object(c.b)(function(e){return{posts:e.posts}},{deleteComment:function(e){return{type:"DELETE_COMMENT",idComment:e}}})(function(e){var t=e.comment,n=e.deleteComment;return o.a.createElement("li",{key:t.id},o.a.createElement("h3",{className:"comment__name"},t.name),o.a.createElement("button",{type:"button",className:"button-delete",onClick:function(){return n(t.id)}},"Delete comment"),o.a.createElement("p",{className:"comment__body"},t.body),o.a.createElement("div",{className:"comment__sender"},"Sender: ",o.a.createElement("a",{href:" "},t.email)))}),y=function(e){var t=e.comments;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"comment__title"},"Comments:"),o.a.createElement("ol",{type:"1"},t.map(function(e){return o.a.createElement(N,{comment:e})})))},h=function(e){var t=e.filterPost;return o.a.createElement("section",{className:"postList"},t.length>0?t.map(function(e){return o.a.createElement("div",{className:"post",key:e.id},o.a.createElement(_,{title:e.title,body:e.body,name:e.user.name,email:e.user.email,city:e.user.address.city,idPost:e.id}),o.a.createElement("hr",{className:"line"}),o.a.createElement(y,{comments:e.comments}))}):o.a.createElement("h3",{className:"postList__not-found"},"Comment not found..."))};var O=Object(c.b)(function(e){return{posts:e.posts,loadingButton:e.loadingButton,visibleContent:e.visibleContent}},{loadPosts:function(){return function(e){var t,n,a,o,s,r;return i.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return e({type:"START_LOAADING"}),c.next=3,i.a.awrap(Promise.all([fetch("".concat(E,"posts")).then(function(e){return e.json()}),fetch("".concat(E,"users")).then(function(e){return e.json()}),fetch("".concat(E,"comments")).then(function(e){return e.json()})]));case 3:t=c.sent,n=Object(l.a)(t,3),a=n[0],o=n[1],s=n[2],r=a.map(function(e){return Object(u.a)({},e,{user:o.find(function(t){return t.id===e.userId}),comments:s.filter(function(t){return t.postId===e.id})})}),e({type:"SET_POSTS",posts:r}),e({type:"CHANGE_CONTENT"});case 11:case"end":return c.stop()}})}}})(function(e){var t=e.posts,n=e.loadingButton,s=e.visibleContent,r=e.loadPosts,c=Object(a.useState)(""),m=Object(l.a)(c,2),i=m[0],u=m[1],d=function(){var e=i.trim().toLowerCase();return 0===i.length?t:t.filter(function(t){return!!(t.body+t.title).toLowerCase().includes(e)&&t})};return o.a.createElement("div",{className:"main"},o.a.createElement("h1",{className:"title"},"Dynamic list of posts"),s?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"input"},o.a.createElement("h2",{className:"input__title"},"Search post: "),o.a.createElement("input",{type:"text",className:"input__sear\u0441h",value:i,onChange:function(e){u(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return d}})),o.a.createElement(h,{filterPost:d()})):o.a.createElement("button",{type:"button",onClick:r,className:"loadButton"},n))});r.a.render(o.a.createElement(c.a,{store:f},o.a.createElement(O,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.683befaf.chunk.js.map